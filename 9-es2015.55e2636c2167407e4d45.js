(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Xd3m:function(a,o,r){"use strict";r.r(o);var c=r("ofXK"),t=r("tyNb"),n=r("fXoL");let e=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=n.Pb({type:a,selectors:[["app-grupo-funcion"]],decls:1,vars:0,template:function(a,o){1&a&&n.Wb(0,"router-outlet")},directives:[t.i],styles:[""]}),a})();var i=r("3Pt+"),s=r("PSD3"),u=r.n(s),l=r("M0ag"),b=r("ey9i");function d(a,o){1&a&&(n.bc(0,"small",18),n.Mc(1," campo obligatorio "),n.ac())}function m(a,o){if(1&a&&(n.bc(0,"small",18),n.Mc(1),n.ac()),2&a){const a=n.lc(2);n.Ib(1),n.Oc(" ",null==a.Forma.controls.nombre.errors?null:null==a.Forma.controls.nombre.errors.maxlength?null:a.Forma.controls.nombre.errors.maxlength.requiredLength," caracteres como m\xe1ximo ")}}function g(a,o){1&a&&(n.bc(0,"small",18),n.Mc(1," campo obligatorio "),n.ac())}function p(a,o){if(1&a){const a=n.cc();n.bc(0,"form",8),n.jc("ngSubmit",(function(o){return n.Dc(a),n.lc().validar()})),n.bc(1,"div",9),n.bc(2,"label"),n.Mc(3,"Nombre"),n.ac(),n.Wb(4,"input",10),n.Kc(5,d,2,0,"small",11),n.Kc(6,m,2,1,"small",11),n.ac(),n.bc(7,"div",9),n.bc(8,"label"),n.Mc(9,"Orden"),n.ac(),n.Wb(10,"input",12),n.Kc(11,g,2,0,"small",11),n.ac(),n.bc(12,"div",13),n.bc(13,"button",14),n.Wb(14,"i",15),n.Mc(15,"Guardar"),n.ac(),n.bc(16,"button",16),n.jc("click",(function(o){return n.Dc(a),n.lc().cancelar()})),n.Wb(17,"i",17),n.Mc(18,"Cancelar"),n.ac(),n.ac(),n.ac()}if(2&a){const a=n.lc();n.rc("formGroup",a.Forma),n.Ib(5),n.rc("ngIf",a.Forma.get("nombre").touched&&a.Forma.get("nombre").hasError("required")),n.Ib(1),n.rc("ngIf",a.Forma.get("nombre").touched&&a.Forma.get("nombre").hasError("maxlength")),n.Ib(5),n.rc("ngIf",a.Forma.get("orden").touched&&a.Forma.get("orden").hasError("required"))}}let f=(()=>{class a{constructor(a,o,r,c,t){this._router=a,this._activated_route=o,this._fb=r,this._grupoFuncionService=c,this._metodosGlobales=t,this.objGrupoFuncion={},this.iniciarFormulario(this._fb)}ngOnInit(){this.titulo="Registro de Grupo Funcion",this.cargarGrupoFuncion()}iniciarFormulario(a){this.Forma=a.group({num_sec:[0],nombre:["",i.w.compose([i.w.required,i.w.maxLength(50)])],orden:["",i.w.required]})}cargarGrupoFuncion(){this._activated_route.params.subscribe(a=>{a.num_sec&&(this.titulo="Modificaci\xf3n de Grupo Funcion",this._grupoFuncionService.traerPorCodigo(a.num_sec).subscribe(a=>{this._metodosGlobales.validaError(a,!1)&&(this.objGrupoFuncion=a.response,this.Forma.setValue(this.objGrupoFuncion),this.banderaModifica=!0)},a=>{console.log(a)}))})}validar(){this.Forma.valid?u.a.fire(l.b).then(a=>{a.value&&(!0===this.banderaModifica?this.modificar():this.guardar())}):Object.values(this.Forma.controls).forEach(a=>{a.markAsTouched()})}guardar(){this.actualizarForma(this.Forma.value),this.objGrupoFuncion.num_sec=1,console.log("objeto",this.objGrupoFuncion),this._grupoFuncionService.guardar(this.objGrupoFuncion).subscribe(a=>{this._metodosGlobales.validaError(a)&&this.cancelar()},a=>{console.log(a)})}modificar(){this.actualizarForma(this.Forma.value),this._grupoFuncionService.modificar(this.objGrupoFuncion.num_sec.toString(),this.objGrupoFuncion).subscribe(a=>{this._metodosGlobales.validaError(a)&&this._router.navigate(["administracion/grupo-funcion","buscar"])},a=>{console.log(a)})}cancelar(){this.banderaModifica?this._router.navigate(["administracion/grupo-funcion","buscar"]):(this.Forma.reset(),this.Forma.setValue({num_sec:0,nombre:"",orden:""}))}actualizarForma(a){Object.assign(this.objGrupoFuncion,a)}}return a.\u0275fac=function(o){return new(o||a)(n.Vb(t.e),n.Vb(t.a),n.Vb(i.e),n.Vb(b.f),n.Vb(b.i))},a.\u0275cmp=n.Pb({type:a,selectors:[["app-grupo-funcion-nuevo"]],decls:9,vars:2,consts:[[1,"row","justify-content-center"],[1,"col-xl-6","col-md-8"],[1,"card","border-0","box-shadow","rounded-0"],[1,"card-header"],[1,"mb-0"],[1,"fa","fa-save"],[1,"card-body","pt-0"],["class","text-left mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-left","mt-4",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","nombre","type","text",1,"form-control","validation-field"],["class","text-danger",4,"ngIf"],["formControlName","orden","type","text",1,"form-control","validation-field"],[1,"form-group","text-center","mb-0"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-save","mr-2"],["type","button",1,"btn","btn-secondary","ml-1",3,"click"],[1,"fa","fa-remove","mr-2"],[1,"text-danger"]],template:function(a,o){1&a&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"div",2),n.bc(3,"div",3),n.bc(4,"h4",4),n.Wb(5,"i",5),n.Mc(6),n.ac(),n.ac(),n.bc(7,"div",6),n.Kc(8,p,19,4,"form",7),n.ac(),n.ac(),n.ac(),n.ac()),2&a&&(n.Ib(6),n.Oc(" ",o.titulo,""),n.Ib(2),n.rc("ngIf",o.Forma))},directives:[c.m,i.y,i.o,i.i,i.b,i.n,i.g],styles:[""]}),a})();var h=r("lDzL"),v=r("Mfq2");function F(a,o){1&a&&(n.bc(0,"div",23),n.bc(1,"div",24),n.bc(2,"h5",25),n.Mc(3,"No se encontr\xf3 ning\xfan resultado"),n.ac(),n.ac(),n.ac())}function M(a,o){1&a&&n.Mc(0),2&a&&n.Oc(" ",o.value," ")}function y(a,o){1&a&&n.Mc(0),2&a&&n.Oc(" ",o.value," ")}function _(a,o){1&a&&n.Mc(0),2&a&&n.Oc(" ",o.value," ")}const w=function(a){return["/administracion/grupo-funcion/modificar",a]};function x(a,o){if(1&a&&(n.bc(0,"div",33),n.bc(1,"button",34),n.Wb(2,"i",35),n.ac(),n.ac()),2&a){const a=o.value;n.Ib(1),n.rc("routerLink",n.uc(2,w,a))("adaptivePosition",!1)}}function P(a,o){if(1&a){const a=n.cc();n.bc(0,"div",33),n.bc(1,"button",36),n.jc("click",(function(r){n.Dc(a);const c=o.value;return n.lc(2).eliminar(c)})),n.Wb(2,"i",37),n.ac(),n.ac()}2&a&&(n.Ib(1),n.rc("adaptivePosition",!1))}function G(a,o){if(1&a){const a=n.cc();n.bc(0,"ngx-datatable",26,27),n.jc("page",(function(o){return n.Dc(a),n.lc().buscarPaginado(o)})),n.bc(2,"ngx-datatable-column",28),n.Kc(3,M,1,1,"ng-template",29),n.ac(),n.bc(4,"ngx-datatable-column",30),n.Kc(5,y,1,1,"ng-template",29),n.ac(),n.bc(6,"ngx-datatable-column",31),n.Kc(7,_,1,1,"ng-template",29),n.ac(),n.bc(8,"ngx-datatable-column",32),n.Kc(9,x,3,4,"ng-template",29),n.ac(),n.bc(10,"ngx-datatable-column",32),n.Kc(11,P,3,1,"ng-template",29),n.ac(),n.ac()}if(2&a){const a=n.lc();n.rc("rows",a.array)("headerHeight",40)("columnMode","force")("footerHeight",50)("rowHeight","auto")("loadingIndicator",a.banderaCargando)("externalPaging",!0)("count",a.paginado.totalElementos)("limit",a.paginado.cantidadMostrar)("offset",a.paginado.numeroPaginaActual)("scrollbarH",!0),n.Ib(8),n.rc("width",55),n.Ib(2),n.rc("width",55)}}const I=[{path:"",component:e,resolve:{},children:[{path:"nuevo",component:f,data:{breadcrumb:"Grupo Funcion / Registrar"}},{path:"buscar",component:(()=>{class a{constructor(a,o){this._grupoFuncionService=a,this._metodosGlobales=o,this.paginado=new b.j,this.banderaCargando=!1,this.array=[],this.busqueda={valor:"",parametro:"nombre"}}ngOnInit(){this.paginado.numeroPaginaActual=0,this.paginado.cantidadMostrar=5,this.buscarPaginado({offset:0})}buscarPaginado(a){this.banderaCargando=!0,this.paginado.numeroPaginaActual=a.offset,this._grupoFuncionService.buscarPaginado(this.busqueda.valor,this.busqueda.parametro,this.paginado.numeroPaginaActual,this.paginado.cantidadMostrar).subscribe(a=>{this._metodosGlobales.validaError(a,!1)&&(this.paginado.totalElementos=Number(a.total),this.paginado.cantidadMostrar=this.paginado.cantidadMostrar,this.array=a.response,this.banderaCargando=!1)},a=>{this.banderaCargando=!1,console.log(a)})}numeroRegistrosMostrados(a){this.paginado.cantidadMostrar=a.srcElement.value,this.paginado.numeroPaginaActual=0,this.buscarPaginado({offset:this.paginado.numeroPaginaActual})}eliminar(a){u.a.fire(Object(l.c)("\xbfEst\xe1 seguro de\n    Eliminar el Registro?")).then(o=>{!0===o.value&&this._grupoFuncionService.eliminar(a).subscribe(a=>{this._metodosGlobales.validaError(a)&&this.buscarPaginado({offset:this.paginado.numeroPaginaActual})},a=>{console.log(a)})})}}return a.\u0275fac=function(o){return new(o||a)(n.Vb(b.f),n.Vb(b.i))},a.\u0275cmp=n.Pb({type:a,selectors:[["app-grupo-funcion-buscar"]],decls:41,vars:4,consts:[[1,"card","border-0","box-shadow","rounded-0","mb-0"],[1,"card-header"],[1,"mb-0"],[1,"fa","fa-search"],[1,"card-body","pt-0"],[1,"mt-4"],[1,"form-row"],[1,"form-group","col-md-1"],["for","inlineFormCustomSelectPref"],["id","inlineFormCustomSelectPref",1,"custom-select",3,"change"],["selected","","value","5"],["value","10"],["value","30"],["value","50"],[1,"form-group","col-md-3"],["name","parametro","id","inlineFormCustomSelectPref",1,"custom-select",3,"ngModel","ngModelChange"],["value","num_sec"],["value","nombre"],[1,"form-group","col-md-5"],["name","valor","type","text","id","inlineFormInputName2","placeholder","Buscar",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-primary","my-1",3,"click"],["class","card text-white bg-secondary mb-3",4,"ngIf","ngIfElse"],["show",""],[1,"card","text-white","bg-secondary","mb-3"],[1,"card-body","text-center","p-2"],[1,"card-title"],[1,"material",3,"rows","headerHeight","columnMode","footerHeight","rowHeight","loadingIndicator","externalPaging","count","limit","offset","scrollbarH","page"],["table",""],["name","C\xf3digo","prop","num_sec"],["ngx-datatable-cell-template",""],["name","Nombre","prop","nombre"],["name","Orden","prop","orden"],["name","","prop","num_sec",3,"width"],[1,"text-center"],["placement","left","tooltip","Modificar",1,"btn","btn-sm","btn-primary",3,"routerLink","adaptivePosition"],[1,"fa","fa-pencil"],["placement","left","tooltip","Eliminar",1,"btn","btn-sm","btn-danger",3,"adaptivePosition","click"],[1,"fa","fa-trash"]],template:function(a,o){if(1&a&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"h4",2),n.Wb(3,"i",3),n.Mc(4," Grupo Funciones "),n.ac(),n.ac(),n.bc(5,"div",4),n.bc(6,"form",5),n.bc(7,"div",6),n.bc(8,"div",7),n.bc(9,"strong"),n.bc(10,"label",8),n.Mc(11,"Mostrar:"),n.ac(),n.ac(),n.ac(),n.bc(12,"div",7),n.bc(13,"select",9),n.jc("change",(function(a){return o.numeroRegistrosMostrados(a)})),n.bc(14,"option",10),n.Mc(15,"5"),n.ac(),n.bc(16,"option",11),n.Mc(17,"10"),n.ac(),n.bc(18,"option",12),n.Mc(19,"30"),n.ac(),n.bc(20,"option",13),n.Mc(21,"50"),n.ac(),n.ac(),n.ac(),n.bc(22,"div",7),n.bc(23,"strong"),n.bc(24,"label",8),n.Mc(25,"Filtrar Por:"),n.ac(),n.ac(),n.ac(),n.bc(26,"div",14),n.bc(27,"select",15),n.jc("ngModelChange",(function(a){return o.busqueda.parametro=a})),n.bc(28,"option",16),n.Mc(29,"C\xf3digo"),n.ac(),n.bc(30,"option",17),n.Mc(31,"Nombre"),n.ac(),n.ac(),n.ac(),n.bc(32,"div",18),n.bc(33,"input",19),n.jc("ngModelChange",(function(a){return o.busqueda.valor=a})),n.ac(),n.ac(),n.bc(34,"div",7),n.bc(35,"button",20),n.jc("click",(function(a){return o.buscarPaginado({offset:0})})),n.Wb(36,"i",3),n.Mc(37," Buscar"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.Kc(38,F,4,0,"div",21),n.Kc(39,G,12,13,"ng-template",null,22,n.Lc)),2&a){const a=n.Ac(40);n.Ib(27),n.rc("ngModel",o.busqueda.parametro),n.Ib(6),n.rc("ngModel",o.busqueda.valor),n.Ib(5),n.rc("ngIf",0==o.array.length&&!o.banderaCargando)("ngIfElse",a)}},directives:[i.y,i.o,i.p,i.r,i.x,i.v,i.n,i.q,i.b,c.m,h.c,h.b,h.a,v.a,t.f],styles:[""]}),a})(),data:{breadcrumb:"Grupo Funcion / Buscar"}},{path:"modificar/:num_sec",component:f,data:{breadcrumb:"Grupo Funcion / Modificar"}}]}];let j=(()=>{class a{}return a.\u0275mod=n.Tb({type:a}),a.\u0275inj=n.Sb({factory:function(o){return new(o||a)},imports:[[t.h.forChild(I)],t.h]}),a})();r.d(o,"GrupoFuncionModule",(function(){return C}));let C=(()=>{class a{}return a.\u0275mod=n.Tb({type:a}),a.\u0275inj=n.Sb({factory:function(o){return new(o||a)},imports:[[c.c,j,l.a]]}),a})()}}]);